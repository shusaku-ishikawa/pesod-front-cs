(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f7b78d8"],{"382a":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("99af"),r("96cf");var n=r("1da1"),o=r("2e44"),a=r("2ef0");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customer",t={customer:"customer_token",doctor:"doctor_token"},r=Object(o["a"])(e),c=r.client,u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("/uuid/");case 2:return t=e.sent,r=t.data,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.post("/customer_pre_create/",t);case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("/customer_activator/".concat(t));case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(a["cloneDeep"])(r),n.address="".concat(n.street).concat(n.building),delete n.street,delete n.building,e.next=6,c.put(t,n);case 6:return o=e.sent,u=o.data,console.log(u),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){console.log("getting token from "+t[e]);var r=window.localStorage.getItem(t[e]);if(null!=r)return JSON.parse(r)},p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.post("/auth/jwt/create/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(r){console.log("storeing token"+t[e]),window.localStorage.setItem(t[e],JSON.stringify(r))},m=function(){window.localStorage.removeItem(t[e])},g=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("/auth/users/me/");case 2:return t=e.sent,r=t.data,e.abrupt("return",r.id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("/auth/users/".concat(t,"/"));case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){window.localStorage.setItem("profile",JSON.stringify(e))},w=function(){window.localStorage.getItem("profile")},h=function(){window.localStorage.removeItem("profile")},O=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.post("/signup/",t);case 2:r=e.sent,r.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{sendSignupEmail:i,activateAccount:s,registerProfile:l,createToken:p,storeToken:f,getToken:d,removeToken:m,getUserId:g,getProfile:b,getProfileFromStorage:w,removeProfile:h,storeProfile:v,signup:O,getUUID:u}}},"5c69":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(e){if("string"===typeof e)return e?null:"必須項目です。"},o=function(e,t){return function(r){return e.test(r)?null:t}}},6344:function(e,t,r){e.exports=r.p+"img/pesod_logo_doctor.dad27519.png"},"8f75":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("96cf");var n=r("1da1"),o=r("7a23"),a=r("2e44");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customer",t=Object(a["a"])(e),r=t.client,c=Object(o["ref"])([]),u=Object(o["ref"])(null),i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.get("/doctors/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.get("/doctor/".concat(t));case 2:return n=e.sent,o=n.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{doctor:u,doctors:c,getDoctor:s,fetchDoctors:i}}},cca8:function(e,t,r){},dd4c:function(e,t,r){"use strict";r("cca8")},f3ce:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),o=r("6344"),a=r.n(o),c=Object(n["withScopeId"])("data-v-a4d8c5ce");Object(n["pushScopeId"])("data-v-a4d8c5ce");var u={class:"container h-screen w-screen table-cell align-middle"},i={class:"mx-auto rounded p-5 w-80"},s=Object(n["createVNode"])("img",{src:a.a,alt:"",class:"mb-5"},null,-1),l={key:0,class:"mb-5 text-red-600"},d={class:"text-center"},p=Object(n["createVNode"])("div",{class:"inline-block"}," ログイン ",-1),f=Object(n["createVNode"])("svg",{class:" w-6 h-6 float-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[Object(n["createVNode"])("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),m=Object(n["createVNode"])("div",null,[Object(n["createVNode"])("a",{class:"cursor-pointer "},"パスワードをお忘れの方はこちら")],-1);Object(n["popScopeId"])();var g=c((function(e,t,r,o,a,c){var g=Object(n["resolveComponent"])("p-input");return Object(n["openBlock"])(),Object(n["createBlock"])("div",u,[Object(n["createVNode"])("div",i,[s,Object(n["createVNode"])("form",{class:" ",disabled:e.loading,ref:"from",method:"post",onSubmit:t[3]||(t[3]=Object(n["withModifiers"])((function(){return e.onLogin&&e.onLogin.apply(e,arguments)}),["prevent"]))},[""!=e.loginError?(Object(n["openBlock"])(),Object(n["createBlock"])("div",l,Object(n["toDisplayString"])(e.loginError),1)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(g,{class:"mb-10",label:"メールアドレス",id:"email",type:"email",required:!0,autocomplete:"email",modelValue:e.formData.email,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.email=t}),rules:[e.formRequired]},null,8,["modelValue","rules"]),Object(n["createVNode"])(g,{class:"mb-12",label:"パスワード",autocomplete:"current-password",id:"password",type:"password",modelValue:e.formData.password,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.password=t}),rules:[e.formRequired]},null,8,["modelValue","rules"]),Object(n["createVNode"])("div",d,[Object(n["createVNode"])("button",{disabled:e.loading,type:"submit",class:"primary mb-10 w-72 sm:block sm:w-full"},[p,f],8,["disabled"]),m])],40,["disabled"])])])})),b=(r("96cf"),r("1da1")),v=r("6c02"),w=r("5c69"),h=r("382a"),O=r("8f75"),j=Object(n["defineComponent"])({components:{},setup:function(){var e=Object(v["d"])(),t=Object(h["a"])("doctor"),r=t.createToken,o=t.storeToken,a=t.removeToken,c=t.getUserId,u=(t.getProfile,t.storeProfile,t.removeProfile,t.getProfileFromStorage,Object(O["a"])("doctor")),i=(u.getDoctor,Object(n["ref"])({email:"",password:""})),s=Object(n["ref"])(null),l=Object(n["ref"])(""),d=function(e){l.value=e,window.setTimeout((function(){l.value=""}),5e3)};Object(n["onMounted"])((function(){a()}));var p=Object(n["ref"])(!1),f=function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(n){var a,u,l,f,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s.value){t.next=5;break}if(a=s.value.checkValidity(),a){t.next=5;break}return alert("not vaida"),t.abrupt("return");case 5:return t.prev=5,p.value=!0,t.next=9,r(i.value);case 9:return u=t.sent,o(u),t.next=13,c();case 13:t.sent,e.push({name:"DoctorDashboard"}),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](5),console.log(t.t0),t.t0.response?(l=t.t0.response,f=l.status,m=l.data,console.log(m),d(f>=400&&f<500?"ログインに失敗しました。":JSON.stringify(m))):d("ネットワークエラー");case 21:p.value=!1;case 22:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}();return{loading:p,form:s,formRequired:w["a"],formData:i,loginError:l,onLogin:f}}});r("dd4c");j.render=g,j.__scopeId="data-v-a4d8c5ce";t["default"]=j}}]);
//# sourceMappingURL=chunk-0f7b78d8.2f70d05e.js.map