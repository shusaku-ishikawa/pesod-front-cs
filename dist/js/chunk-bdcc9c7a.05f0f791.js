(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdcc9c7a"],{"07f6":function(e,t,r){"use strict";r("13fb")},"0bf0":function(e,t,r){"use strict";r("4c1e")},"13fb":function(e,t,r){},"1d74":function(e,t,r){},"28ee":function(e,t,r){"use strict";r.r(t);var c=r("7a23"),n={ref:"container",class:"h-screen pt-10 sm:pt-14 flex"},s={key:0},a={key:0};function o(e,t,r,o,l,i){var u=Object(c["B"])("navbar-for-doctor"),b=Object(c["B"])("left-pane"),d=Object(c["B"])("main-pane"),p=Object(c["B"])("right-pane");return Object(c["t"])(),Object(c["d"])("div",n,[Object(c["h"])(u),Object(c["h"])("div",{class:["sm:block overflow-y-auto sm:border-r border-gray-600 w-full sm:w-1/4",{block:"left"===e.activePage,hidden:"left"!==e.activePage}]},[Object(c["h"])(b,{modelValue:e.activePrescript,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.activePrescript=t}),onPage:e.onPage},null,8,["modelValue","onPage"])],2),Object(c["h"])("div",{class:["sm:block flex-grow border-r border-gray-600 w-full sm:w-1/2",{block:"main"===e.activePage,hidden:"main"!==e.activePage}]},[null==e.activePrescript?(Object(c["t"])(),Object(c["d"])("div",s," 顧客を選択してください。 ")):(Object(c["t"])(),Object(c["d"])(d,{key:1,prescript:e.activePrescript,onPage:e.onPage},null,8,["prescript","onPage"]))],2),Object(c["h"])("div",{class:[" sm:block overflow-y-auto w-full sm:w-1/4",{block:"right"===e.activePage,hidden:"right"!==e.activePage}]},[null==e.activePrescript?(Object(c["t"])(),Object(c["d"])("div",a," 顧客を選択してください。 ")):(Object(c["t"])(),Object(c["d"])(p,{key:1,onPage:e.onPage,prescript:e.activePrescript},null,8,["onPage","prescript"]))],2)],512)}var l={class:"h-10 sm:h-14 fixed top-0 left-0 z-50 shadow w-full bg-white text-black sm:bg-blue-400 sm:text-white"},i={class:"relative h-full flex items-center px-10"},u=Object(c["h"])("div",{class:"font-medium text-3xl"}," Persona ",-1),b={key:0,class:"relative flex items-center ml-auto"},d=Object(c["h"])("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"},null,-1),p={key:0,class:"absolute right-0"},j={class:"shadow-lg whitespace-nowrap text-sm"};function O(e,t,r,n,s,a){return Object(c["t"])(),Object(c["d"])("div",l,[Object(c["h"])("div",i,[u,null!=e.profile?(Object(c["t"])(),Object(c["d"])("div",b,[Object(c["h"])("div",null,"ようこそ "+Object(c["D"])(e.profile.first_name)+" "+Object(c["D"])(e.profile.last_name)+" 様",1),Object(c["h"])("div",null,[(Object(c["t"])(),Object(c["d"])("svg",{onClick:t[1]||(t[1]=function(t){return e.showDrawer=!e.showDrawer}),class:"h-6 w-6 ml-5 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[d])),e.showDrawer?(Object(c["t"])(),Object(c["d"])("div",p,[Object(c["h"])("ul",j,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.menu,(function(t,r){return Object(c["t"])(),Object(c["d"])("li",{key:r,onClick:function(r){return e.router.push({name:t.route})},class:"w-48 cursor-pointer bg-white text-gray-600 px-3 py-1 border-b"},Object(c["D"])(t.text),9,["onClick"])})),128))])])):Object(c["e"])("",!0)])])):Object(c["e"])("",!0)])])}var f=r("6c02"),h=r("382a"),v=Object(c["i"])({components:{},setup:function(){var e=Object(f["d"])(),t=Object(h["a"])(),r=t.profile,n=t.isLoggedIn,s=Object(c["y"])(!1),a=[{route:"DoctorLogin",text:"ログアウト"}];return{menu:a,router:e,profile:r,showDrawer:s,isLoggedIn:n}}});v.render=O;var m=v,g=(r("4de4"),{class:"min-h-full w-full px-2 py-3"}),w=Object(c["h"])("div",{class:"flex mb-3 w-full "},[Object(c["h"])("input",{class:"border block flex-grow pl-2 ",type:"text"}),Object(c["h"])("button",{class:"border bg-white"},[Object(c["h"])("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[Object(c["h"])("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])])],-1),x={class:"flex flex-col flex-grow text-left"},y={class:"flex items-center justify-between"},k={class:"font-medium text-base "};function P(e,t,r,n,s,a){return Object(c["t"])(),Object(c["d"])("div",g,[w,Object(c["h"])("div",null,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.prescripts.filter((function(e){return e.status>2})),(function(t,r){return Object(c["t"])(),Object(c["d"])("div",{key:r,class:["py-2 flex items-center px-3 py-2 border-b  hover:bg-blue-200 cursor-pointer text-sm",{"bg-gray-200":e.modelValue&&e.modelValue.id===t.id}],onClick:function(r){return e.onSelectPrescript(t)}},[Object(c["h"])("div",x,[Object(c["h"])("div",y,[Object(c["h"])("div",k,Object(c["D"])(t.customer.first_name)+" "+Object(c["D"])(t.customer.last_name),1),Object(c["h"])("div",{class:[" ml-1 px-2 rounded shadow-lg text-xs",{"bg-yellow-100 text-black":3===t.status,"text-gray-600 border-gray-200":3!==t.status}]},Object(c["D"])(3===t.status?"対応中":"対応済"),3)]),Object(c["h"])("div",null," ID: "+Object(c["D"])(t.customer.id),1)])],10,["onClick"])})),128))])])}r("96cf");var D=r("1da1"),_=r("da56"),C=Object(c["i"])({components:{},props:{modelValue:{type:Object}},emits:["page","update:modelValue"],setup:function(e,t){var r=Object(_["a"])(),n=r.prescripts,s=r.fetchPrescripts;Object(c["q"])(Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:n.value=e.sent,console.log(n.value);case 4:case"end":return e.stop()}}),e)}))));var a=function(e){t.emit("update:modelValue",e),t.emit("page","main")};return{onSelectPrescript:a,prescripts:n}}});C.render=P;var M=C,S=Object(c["K"])("data-v-477421c0");Object(c["w"])("data-v-477421c0");var T={class:"h-full flex flex-col w-full sm:px-1"},R={class:" sm:hidden py-1 bg-gray-200"},B={class:"absolute left-0 flex text-sm items-center"},L=Object(c["h"])("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),z=Object(c["h"])("div",null,"担当患者一覧",-1),I=Object(c["h"])("div",null," 診察室 ",-1),q={key:0,class:" flex items-center border-b border-black p-1 justify-between"},A={class:"flex items-center"},V={class:"text-lg"},U=Object(c["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},null,-1),H={ref:"messageArea",class:"flex-grow overflow-auto relative pt-5"},E={class:"absolute w-full space-y-4"},N=Object(c["g"])(' :dateStr="log.created_at" '),J=Object(c["h"])("div",null,"テンプレート",-1),K={key:0,class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},W=Object(c["h"])("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1),F={key:1,class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},G=Object(c["h"])("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1);Object(c["u"])();var Q=S((function(e,t,r,n,s,a){var o=Object(c["B"])("ws-state-marker"),l=Object(c["B"])("chat-date-label"),i=Object(c["B"])("chat-message-card"),u=Object(c["B"])("chat-form"),b=Object(c["B"])("template-modal"),d=Object(c["B"])("frame-modal"),p=Object(c["B"])("prescribe-products-modal");return Object(c["t"])(),Object(c["d"])("div",T,[Object(c["h"])("div",R,[Object(c["h"])("div",B,[(Object(c["t"])(),Object(c["d"])("svg",{onClick:t[1]||(t[1]=function(t){return e.onPage("left")}),class:"w-6 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[L])),z]),I]),e.prescript?(Object(c["t"])(),Object(c["d"])("div",q,[Object(c["h"])("div",A,[Object(c["h"])("div",V,Object(c["D"])(e.prescript.customer.first_name)+" "+Object(c["D"])(e.prescript.customer.last_name)+" 様との会話 ",1),Object(c["h"])(o,{class:"ml-2",wsState:e.wsState},null,8,["wsState"])]),(Object(c["t"])(),Object(c["d"])("svg",{onClick:t[2]||(t[2]=function(t){return e.onPage("right")}),class:"sm:hidden w-8 cusrsor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[U]))])):Object(c["e"])("",!0),Object(c["h"])("div",H,[Object(c["h"])("div",E,[e.chatLogs.length>0?(Object(c["t"])(),Object(c["d"])(l,{key:0,dateStr:e.chatLogs[0].created_at},null,8,["dateStr"])):Object(c["e"])("",!0),(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.chatLogs,(function(t,r){return Object(c["t"])(),Object(c["d"])(c["a"],{key:r},[r>1&&e.getDate(e.chatLogs[r].created_at)!==e.getDate(e.chatLogs[r-1].created_at)?(Object(c["t"])(),Object(c["d"])(l,{key:0},{default:S((function(){return[N]})),_:1})):Object(c["e"])("",!0),Object(c["h"])(i,{chatLog:t,isMyMessage:t.speaker===e.userId},null,8,["chatLog","isMyMessage"])],64)})),128))])],512),Object(c["h"])("div",null,[Object(c["h"])(u,{modelValue:e.message,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.message=t}),onSend:e.onSendMessage},{menu:S((function(){return[Object(c["h"])("button",{onClick:t[3]||(t[3]=function(t){return e.showMessageTemplates=!e.showMessageTemplates}),class:"border rounded-lg py-1 text-sm flex items-center"},[J,e.showMessageTemplates?(Object(c["t"])(),Object(c["d"])("svg",F,[G])):(Object(c["t"])(),Object(c["d"])("svg",K,[W]))]),Object(c["h"])("button",{onClick:t[4]||(t[4]=function(t){return e.showPrescribeProducts=!e.showprescribeProducts}),class:"border rounded-lg py-1 text-sm flex items-center"}," 処方提案 ")]})),_:1},8,["modelValue","onSend"]),e.showMessageTemplates?(Object(c["t"])(),Object(c["d"])(d,{key:0,onClose:t[7]||(t[7]=function(t){return e.showMessageTemplates=!1})},{default:S((function(){return[Object(c["h"])(b,{templates:e.doctorMessageTemplates,"onSelect:template":e.onSelectTemplate,onClose:t[6]||(t[6]=function(t){return e.showMessageTemplates=!1})},null,8,["templates","onSelect:template"])]})),_:1})):Object(c["e"])("",!0),e.showPrescribeProducts?(Object(c["t"])(),Object(c["d"])(d,{key:1,onClose:t[9]||(t[9]=function(t){return e.showPrescribeProducts=!1})},{default:S((function(){return[Object(c["h"])(p,{onClose:t[8]||(t[8]=function(t){return e.showPrescribeProducts=!1}),onPrescribe:e.onPrescribe},null,8,["onPrescribe"])]})),_:1})):Object(c["e"])("",!0)])])})),X=(r("99af"),r("d81d"),r("b0c0"),r("498a"),r("0b48")),Y=r("e59e"),Z={class:"inline-block shadow-xl transform align-middle"},$={class:"my-20 rounded bg-white px-6 py-4 sm:pb-4"},ee={class:"mb-3 border-b"},te={class:"flex "};function re(e,t,r,n,s,a){var o=Object(c["B"])("product-list-card");return Object(c["t"])(),Object(c["d"])("div",Z,[Object(c["h"])("div",$,[Object(c["h"])("div",ee,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.products,(function(t,r){return Object(c["t"])(),Object(c["d"])(o,{key:r,product:t,"onUpdate:toPrescribe":function(r){return e.updateToPrescribe(t,r)},toPrescribe:e.isToPrescribe(t)},null,8,["product","onUpdate:toPrescribe","toPrescribe"])})),128))]),Object(c["h"])("div",te,[Object(c["h"])("button",{onClick:t[1]||(t[1]=function(){return e.onPrescribe&&e.onPrescribe.apply(e,arguments)}),class:"primary",disabled:!e.productsToPrescribe.length}," 処方提案 ",8,["disabled"]),Object(c["h"])("button",{onClick:t[2]||(t[2]=function(){return e.onClose&&e.onClose.apply(e,arguments)})}," 閉じる ")])])])}r("7db0"),r("c740"),r("a434");var ce={class:"flex items-center px-3 py-2 hover:bg-gray-100"},ne={class:"ml-4 flex-shrink-0"},se={class:"flex-grow text-left ml-4"};function ae(e,t,r,n,s,a){var o=Object(c["B"])("p-checkbox");return Object(c["t"])(),Object(c["d"])("div",ce,[Object(c["h"])("div",null,[Object(c["h"])(o,{modelValue:e.toPrescribe,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.onCheck(t)})},null,8,["modelValue"])]),Object(c["h"])("div",ne,[Object(c["h"])("img",{src:e.product.image,alt:"",style:{width:"100px",height:"auto"}},null,8,["src"])]),Object(c["h"])("div",se,[Object(c["h"])("div",null,Object(c["D"])(e.product.name),1),Object(c["h"])("div",null,Object(c["D"])((e.product.price||0).toLocaleString())+"円 ",1),Object(c["h"])("div",null,Object(c["D"])(e.product.usage),1)])])}var oe=Object(c["i"])({components:{},emits:["update:toPrescribe"],props:{product:{type:Object},toPrescribe:{type:Boolean}},setup:function(e,t){var r=Object(f["d"])(),c=function(e){console.log(e),t.emit("update:toPrescribe",e)};return{router:r,onCheck:c}}});oe.render=ae;var le=oe,ie=r("c5e3"),ue=Object(c["i"])({components:{ProductListCard:le},props:{},emits:["close","prescribe"],setup:function(e,t){var r=Object(ie["a"])(),n=r.products,s=r.fetchProducts,a=Object(c["y"])([]);Object(c["q"])(Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:n.value=e.sent;case 3:case"end":return e.stop()}}),e)}))));var o=function(){t.emit("prescribe",a.value)},l=function(){t.emit("close")},i=function(e){return null!=a.value.find((function(t){return e.id===t.id}))},u=function(e,t){if(t)a.value.push(e);else{var r=a.value.findIndex((function(t){return e.id===t.id}));r>=0&&a.value.splice(r,1)}};return{products:n,productsToPrescribe:a,onClose:l,onPrescribe:o,isToPrescribe:i,updateToPrescribe:u}}});ue.render=re;var be=ue,de=r("472c"),pe=r("6834"),je=r("c1df"),Oe=r.n(je),fe=r("feb7"),he=r("498b"),ve={class:"inline-block shadow-xl transform align-middle"},me={class:"my-20 rounded bg-white px-6 py-4 sm:pb-4"},ge={class:"mb-3 border-b"},we={class:"flex "};function xe(e,t,r,n,s,a){return Object(c["t"])(),Object(c["d"])("div",ve,[Object(c["h"])("div",me,[Object(c["h"])("div",ge,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.templates,(function(t,r){return Object(c["t"])(),Object(c["d"])("div",{key:r,class:["border-b py-2 text-left cursor-pointer",{"bg-blue-100":e.selectedTemplate&&e.selectedTemplate.id==t.id}],onClick:function(r){return e.selectedTemplate=t}},Object(c["D"])(t.message),11,["onClick"])})),128))]),Object(c["h"])("div",we,[Object(c["h"])("button",{onClick:t[1]||(t[1]=function(){return e.onSelect&&e.onSelect.apply(e,arguments)}),class:"primary",disabled:null==e.selectedTemplate}," 選択 ",8,["disabled"]),Object(c["h"])("button",{onClick:t[2]||(t[2]=function(){return e.onClose&&e.onClose.apply(e,arguments)})}," 閉じる ")])])])}var ye=Object(c["i"])({components:{},props:{templates:{type:Object}},emits:["close","select:template"],setup:function(e,t){var r=Object(c["y"])(null),n=function(){t.emit("close")},s=function(){null!=r.value&&t.emit("select:template",r.value)};return{selectedTemplate:r,onClose:n,onSelect:s}}});ye.render=xe;var ke=ye,Pe=Object(c["i"])({components:{ChatForm:X["a"],ChatMessageCard:Y["a"],prescribeProductsModal:be,WsStateMarker:fe["a"],ChatDateLabel:he["a"],TemplateModal:ke},props:{prescript:{type:Object}},setup:function(e,t){var r,n=Object(h["a"])(),s=n.getToken,a=n.getUUID,o=n.getUserId,l=Object(_["a"])(),i=l.setPrescriptProducts,u=Object(de["a"])(),b=u.chatLogs,d=u.fetchDoctorChatLogs,p=u.fetchDoctorMessageTemplates,j=Object(pe["a"])(),O=j.WS_BASE_URL,f=j.connection,v=(j.connect,j.close),m=j.messageArea,g=j.scrollDown,w=j.wsState,x=(j.wsStateStr,j.message),y=j.prepareWs,k=Object(c["y"])(""),P=Object(c["y"])(""),C=function(e){if(null!=f.value&&f.value.readyState===f.value.OPEN){var t={uuid:k.value,message:e};console.log(t);try{f.value.send(JSON.stringify(t)),x.value=""}catch(r){console.error("errr")}}},M=Object(c["y"])([]),S=Object(c["y"])(!1),T=function(e){C(e.message),S.value=!1},R=Object(c["y"])(!1);Object(c["q"])(Object(D["a"])(regeneratorRuntime.mark((function t(){var c,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:return n=t.sent,t.next=5,o();case 5:return P.value=t.sent,k.value=n.uuid,console.log(n),t.next=10,p();case 10:if(M.value=t.sent,null!=e.prescript){t.next=13;break}return t.abrupt("return");case 13:return r="".concat(O,"/chat/doctor/").concat(e.prescript.customer.uuid,"/?token=").concat(null===(c=s())||void 0===c?void 0:c.access),t.prev=14,t.next=17,d(e.prescript.id);case 17:l=t.sent,b.value=l,t.next=25;break;case 21:return t.prev=21,t.t0=t["catch"](14),console.error(t.t0),t.abrupt("return");case 25:y(r,b),window.setTimeout((function(){g()}),100);case 27:case"end":return t.stop()}}),t,null,[[14,21]])})))),Object(c["G"])((function(){return e.prescript}),Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d(e.prescript.id);case 2:b.value=t.sent,window.setTimeout((function(){g()}),100);case 4:case"end":return t.stop()}}),t)})))),Object(c["o"])((function(){v()}));var B=function(e){return Oe()(e).format("yyyy/M/D")},L=function(){""!=x.value.trim()&&C(x.value)},z=function(e){var t="";return console.log(e),e.map((function(e){var r="\n          <div>\n            <div>\n              ".concat(e.name,"\n            </div>\n            <div>\n              ").concat(e.categories,"\n            </div>\n            <div>\n              メーカー：").concat(e.maker,'\n            </div>\n            <div>\n              <img\n                style="height: 100px"\n                src="').concat(e.image,'"\n              />\n            </div>\n            <div>\n              用途：').concat(e.dose,"\n            </div>\n            \n          </div>\n        ");t+=r+'<hr class="my-3">'})),t},I=function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(r){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(R.value=!1,null!=e.prescript){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,i(e.prescript.prescript_no,r);case 5:t.sent,c=z(r),C(c);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(e){t.emit("page",e)};return{uuid:k,userId:P,messageArea:m,getDate:B,message:x,onSendMessage:L,onPage:q,chatLogs:b,wsState:w,showMessageTemplates:S,doctorMessageTemplates:M,onSelectTemplate:T,showPrescribeProducts:R,onPrescribe:I}}});r("0bf0");Pe.render=Q,Pe.__scopeId="data-v-477421c0";var De=Pe,_e={class:"min-h-full w-full sm:px-3 sm:py-5"},Ce={class:"flex cursor-pointer text-sm justify-center"};function Me(e,t,r,n,s,a){var o=Object(c["B"])("answer-tab"),l=Object(c["B"])("user-profile-tab");return Object(c["t"])(),Object(c["d"])("div",_e,[Object(c["h"])("div",null,[Object(c["h"])("ul",Ce,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.tabs,(function(t,r){return Object(c["t"])(),Object(c["d"])("li",{key:r,onClick:function(r){return e.tab=t.value},class:[{"bg-gray-400 text-white ":t.value===e.tab},"flex-auto py-1 px-4 bg-white rounded-t-lg border"]},Object(c["D"])(t.text),11,["onClick"])})),128))])]),"answer"===e.tab?(Object(c["t"])(),Object(c["d"])(o,{key:0,prescript:e.prescript},null,8,["prescript"])):Object(c["e"])("",!0),"profile"===e.tab?(Object(c["t"])(),Object(c["d"])(l,{key:1,prescript:e.prescript},null,8,["prescript"])):Object(c["e"])("",!0)])}var Se={class:"w-full sm:py-5"},Te={class:"px-3"},Re={class:"w-full "},Be={key:0,class:"bg-gray-400 pb-1 text-sm"},Le={key:1},ze={key:2};function Ie(e,t,r,n,s,a){var o=Object(c["B"])("client-profile"),l=Object(c["B"])("question");return Object(c["t"])(),Object(c["d"])("div",Se,[Object(c["h"])("div",Te,[e.prescript?(Object(c["t"])(),Object(c["d"])(o,{key:0,class:"mb-5",prescript:e.prescript},null,8,["prescript"])):Object(c["e"])("",!0),(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.answers,(function(e,t){return Object(c["t"])(),Object(c["d"])("div",{key:t,class:"mb-5"},[Object(c["h"])(l,{index:t+1,question:e.question.question_body},null,8,["index","question"]),Object(c["h"])("div",Re,[e.descriptive_answer?(Object(c["t"])(),Object(c["d"])("div",Be,Object(c["D"])(e.descriptive_answer),1)):Object(c["e"])("",!0),e.answer_options.length?(Object(c["t"])(),Object(c["d"])("div",Le,[Object(c["h"])("ul",null,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.answer_options,(function(e,t){return Object(c["t"])(),Object(c["d"])("li",{key:t},Object(c["D"])(e.answer),1)})),128))])])):Object(c["e"])("",!0),e.hair_record?(Object(c["t"])(),Object(c["d"])("div",ze,[Object(c["h"])("img",{class:"max-w-full",src:e.hair_record,alt:""},null,8,["src"])])):Object(c["e"])("",!0)])])})),128))])])}var qe={class:"border rounded-lg shadow-lg px-5 py-2"},Ae=Object(c["h"])("div",{class:"text-lg text-center"}," Persona ",-1),Ve={class:"flex "},Ue={class:"ml-3"},He={key:0,class:"text-left"};function Ee(e,t,r,n,s,a){return Object(c["t"])(),Object(c["d"])("div",qe,[Ae,Object(c["h"])("div",Ve,[Object(c["h"])("div",null," ID: "+Object(c["D"])(e.prescript.customer.id),1),Object(c["h"])("div",Ue,Object(c["D"])(e.prescript.customer.first_name)+" "+Object(c["D"])(e.prescript.customer.last_name),1)]),e.prescript.doctor?(Object(c["t"])(),Object(c["d"])("div",He," かかりつけ医: "+Object(c["D"])(e.prescript.doctor.first_name)+" "+Object(c["D"])(e.prescript.doctor.last_name),1)):Object(c["e"])("",!0)])}var Ne=Object(c["i"])({components:{},props:{prescript:{type:Object}},setup:function(){return{}}});Ne.render=Ee;var Je=Ne,Ke=r("73eb"),We=r("2e9b"),Fe=Object(c["i"])({components:{ClientProfile:Je,Question:Ke["a"]},props:{prescript:{type:Object}},setup:function(e,t){var r=Object(We["a"])(),n=r.answers,s=r.fetchAnswers,a=function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s(e.prescript.customer.uuid);case 2:r=t.sent,console.log(r),n.value=r;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c["G"])(e.prescript,(function(e){a()})),Object(c["q"])(Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.prescript){t.next=2;break}return t.abrupt("return");case 2:a();case 3:case"end":return t.stop()}}),t)})))),{answers:n}}});Fe.render=Ie;var Ge=Fe,Qe=Object(c["K"])("data-v-32f42d61");Object(c["w"])("data-v-32f42d61");var Xe={class:"w-full sm:py-5"},Ye={class:"text-sm border-collapse"},Ze=Object(c["h"])("th",null,"ID",-1),$e=Object(c["h"])("th",null,"名前",-1),et=Object(c["h"])("th",null,"かかりつけ医",-1),tt=Object(c["h"])("th",null,"住所",-1),rt=Object(c["h"])("br",null,null,-1),ct=Object(c["h"])("th",null,"メールアドレス",-1),nt=Object(c["h"])("th",null,"電話番号",-1),st=Object(c["h"])("th",null,"性別",-1),at=Object(c["h"])("th",null,"遺伝子タイプ",-1),ot=Object(c["h"])("th",null,"生年月日",-1);Object(c["u"])();var lt=Qe((function(e,t,r,n,s,a){return Object(c["t"])(),Object(c["d"])("div",Xe,[Object(c["h"])("table",Ye,[Object(c["h"])("tbody",null,[Object(c["h"])("tr",null,[Ze,Object(c["h"])("td",null,Object(c["D"])(e.prescript.customer.id),1)]),Object(c["h"])("tr",null,[$e,Object(c["h"])("td",null,Object(c["D"])(e.prescript.customer.first_name)+" "+Object(c["D"])(e.prescript.customer.last_name),1)]),Object(c["h"])("tr",null,[et,Object(c["h"])("td",null,Object(c["D"])(e.prescript.doctor.first_name)+" "+Object(c["D"])(e.prescript.doctor.last_name),1)]),Object(c["h"])("tr",null,[tt,Object(c["h"])("td",null,[Object(c["g"])("〒"+Object(c["D"])(e.prescript.customer.zip_code),1),rt,Object(c["g"])(Object(c["D"])(e.prescript.customer.prefecture)+Object(c["D"])(e.prescript.customer.city)+Object(c["D"])(e.prescript.customer.address),1)])]),Object(c["h"])("tr",null,[ct,Object(c["h"])("td",null,Object(c["D"])(e.prescript.customer.email),1)]),Object(c["h"])("tr",null,[nt,Object(c["h"])("td",null,Object(c["D"])(e.prescript.customer.phonenumber),1)]),Object(c["h"])("tr",null,[st,Object(c["h"])("td",null,Object(c["D"])(e.prescript.customer.gender),1)]),Object(c["h"])("tr",null,[at,Object(c["h"])("td",null,Object(c["D"])(e.prescript.customer.dna),1)]),Object(c["h"])("tr",null,[ot,Object(c["h"])("td",null,Object(c["D"])(e.prescript.customer.birthday),1)])])])])})),it=Object(c["i"])({components:{},props:{prescript:{type:Object}},setup:function(e,t){return{}}});r("5e7e");it.render=lt,it.__scopeId="data-v-32f42d61";var ut=it,bt=Object(c["i"])({components:{AnswerTab:Ge,UserProfileTab:ut},props:{prescript:{type:Object}},setup:function(e,t){var r=[{value:"answer",text:"問診表"},{value:"profile",text:"ユーザ情報"},{value:"hairRecord",text:"毛髪記録"}],n=Object(c["y"])("answer");Object(c["q"])(Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));var s=function(e){t.emit("page",e)};return{onPage:s,tabs:r,tab:n}}});bt.render=Me;var dt=bt,pt=Object(c["i"])({components:{NavbarForDoctor:m,LeftPane:M,MainPane:De,RightPane:dt},setup:function(){var e=Object(c["y"])(null),t=Object(c["y"])("main"),r=(Object(f["c"])(),Object(f["d"])(),Object(h["a"])()),n=(r.getToken,Object(c["y"])(null));Object(c["q"])((function(){null!=e.value&&(e.value.style.height=window.innerHeight+"px")}));var s=function(e){t.value=e};return{onPage:s,container:e,activePage:t,activePrescript:n}}});pt.render=o;t["default"]=pt},"2e9b":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d81d"),r("96cf");var c=r("1da1"),n=r("7a23"),s=r("2e44"),a=Object(n["y"])([]),o=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=null==t?"/answers/":"/answers/?uuid=".concat(t),e.next=3,s["a"].get(r);case 3:return c=e.sent,n=c.data,console.log(n),a.value=n.results,e.abrupt("return",n.results);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t),null!=t.customer.id){e.next=3;break}throw Error("customer has no id");case 3:return console.log(t.answer_options),r=t.answer_options.map((function(e){return{option:e.option}})),c={question_id:t.question.id,options:r,descriptive_answer:t.descriptive_answer},null!=t.hair_image&&(n=t.hair_image,c.hair_image=n,console.log(n)),console.log(c),e.next=10,s["a"].post("/answer/",c);case 10:return a=e.sent,o=a.data,console.log(o),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function i(){return{answers:a,fetchAnswers:o,createAnswer:l}}},"4c1e":function(e,t,r){},"5e7e":function(e,t,r){"use strict";r("1d74")},"73eb":function(e,t,r){"use strict";var c=r("7a23"),n=Object(c["K"])("data-v-54bbff54");Object(c["w"])("data-v-54bbff54");var s={class:" text-left"},a={class:"relative inline-block "},o={class:"font-bold text-xl"};Object(c["u"])();var l=n((function(e,t,r,n,l,i){return Object(c["t"])(),Object(c["d"])("div",null,[Object(c["h"])("div",s,[Object(c["h"])("div",a,[Object(c["h"])("div",o,"Q"+Object(c["D"])(e.index),1)])]),Object(c["h"])("div",{innerHTML:e.question,class:"mb-5 text-left"},null,8,["innerHTML"])])})),i=(r("a9e3"),r("ac1f"),r("5319"),Object(c["i"])({components:{},props:{index:{type:Number},question:{type:String}},setup:function(e,t){var r=function(e){return null==e?"":e.replace(/(?:\r\n|\r|\n)/g,"<br />")};return{htmlify:r}}}));r("07f6");i.render=l,i.__scopeId="data-v-54bbff54";t["a"]=i},"7db0":function(e,t,r){"use strict";var c=r("23e7"),n=r("b727").find,s=r("44d2"),a=r("ae40"),o="find",l=!0,i=a(o);o in[]&&Array(1)[o]((function(){l=!1})),c({target:"Array",proto:!0,forced:l||!i},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},a434:function(e,t,r){"use strict";var c=r("23e7"),n=r("23cb"),s=r("a691"),a=r("50c4"),o=r("7b0b"),l=r("65f0"),i=r("8418"),u=r("1dde"),b=r("ae40"),d=u("splice"),p=b("splice",{ACCESSORS:!0,0:0,1:2}),j=Math.max,O=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var r,c,u,b,d,p,v=o(this),m=a(v.length),g=n(e,m),w=arguments.length;if(0===w?r=c=0:1===w?(r=0,c=m-g):(r=w-2,c=O(j(s(t),0),m-g)),m+r-c>f)throw TypeError(h);for(u=l(v,c),b=0;b<c;b++)d=g+b,d in v&&i(u,b,v[d]);if(u.length=c,r<c){for(b=g;b<m-c;b++)d=b+c,p=b+r,d in v?v[p]=v[d]:delete v[p];for(b=m;b>m-c+r;b--)delete v[b-1]}else if(r>c)for(b=m-c;b>g;b--)d=b+c-1,p=b+r-1,d in v?v[p]=v[d]:delete v[p];for(b=0;b<r;b++)v[b+g]=arguments[b+2];return v.length=m-c+r,u}})},c5e3:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("96cf");var c=r("1da1"),n=r("7a23"),s=r("2e44"),a=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("/products/");case 2:return t=e.sent,r=t.data,console.log(r),e.abrupt("return",r.results);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,s["a"].get("/product/".concat(t));case 3:return r=e.sent,c=r.data,console.log(c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function l(){var e=Object(n["y"])(null),t=Object(n["y"])([]);return{product:e,products:t,fetchProducts:a,getProduct:o}}},c740:function(e,t,r){"use strict";var c=r("23e7"),n=r("b727").findIndex,s=r("44d2"),a=r("ae40"),o="findIndex",l=!0,i=a(o);o in[]&&Array(1)[o]((function(){l=!1})),c({target:"Array",proto:!0,forced:l||!i},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)}}]);
//# sourceMappingURL=chunk-bdcc9c7a.05f0f791.js.map