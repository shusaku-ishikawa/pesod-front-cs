{"version":3,"sources":["webpack:///./src/types/Answer.ts","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/types/Questionaire.ts","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/types/Prescript.ts","webpack:///./src/views/ForClient/Diagnostic/Questionaires.vue","webpack:///./src/views/ForClient/Diagnostic/Questionaires.vue?447d","webpack:///./src/views/ForClient/Diagnostic/Questionaires.vue?f6cc"],"names":["answers","useAnswer","userType","client","fetchAnswers","uuid","url","get","data","createAnswer","answer","customer","id","Error","options","answer_options","map","a","option","postData","question_id","question","descriptive_answer","hair_image","base64","post","console","log","$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","TypeError","$findIndex","findIndex","FIND_INDEX","useQuestionaire","questions","fetchQuestions","$map","usePrescript","myPrescript","prescripts","getPrescript","fixInterview","selectDoctor","doctorId","patch","doctor","fetchPrescripts","setPrescriptProducts","prescriptNo","products","prescriptProducts","p","product","acceptPrescriptProducts","deletePrescriptProducts","delete","class","fill-rule","d","clip-rule","title","router","push","xmlns","viewBox","fill","dataReady","currentQuestion","questionIndex","existingAnswer","hasNext","hasPrevious","onNext","onPrevious","components","setup","route","qId","params","toString","value","q","status","name","event","answerIndex","error","render"],"mappings":"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","file":"js/Questionaires.3356c7fa.js","sourcesContent":["\nimport { ref } from 'vue';\nimport { IAnswer, IAnswerOption } from \"@/types/Interfaces\";\nimport useAxios from '@/types/Axios';\n\nconst answers = ref<IAnswer[]>([]);\n\ninterface ICreateAnswer{\n  question_id: string;\n  options: any;\n  descriptive_answer: string | null;\n  hair_image?: string;\n}\n\n\nexport default function useAnswer(userType = 'customer') {\n  const {\n    client  \n  } = useAxios(userType);\n  const fetchAnswers = async (uuid?: string): Promise<IAnswer[]> => {\n    const url = uuid == null ? '/answers/' : `/answers/?uuid=${uuid}`;\n    const { data } = await client.get(url);\n    return data;\n  };\n  \n  const createAnswer = async (answer: IAnswer) => {\n    if (answer.customer.id == null) throw Error('customer has no id');\n    const options = answer.answer_options?.map((a: IAnswerOption) => ({ option: a.option }))\n  \n    const postData: ICreateAnswer = {\n      question_id: answer.question.id,\n      options: options,\n      descriptive_answer: answer.descriptive_answer,\n    };\n    if (answer.hair_image != null) {\n      const base64 = answer.hair_image // .replace(/^data:image\\/(png|jpe?g);base64,/, \"\");\n      postData.hair_image = base64;\n    }\n    \n    // console.log(formData)\n    const {data} = await client.post('/answer/', postData);\n    console.log(data)\n    return data;\n    \n  };\n  return {\n    answers,\n    fetchAnswers,\n    createAnswer,\n  }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","import { ref, computed } from 'vue';\nimport { IQuestion, IAnswer } from './Interfaces';\nimport useAxios from '@/types/Axios';\n\nexport default function useQuestionaire(userType = 'customer') {\n  const questions = ref<IQuestion[]>([]);\n  const {\n    client\n  } = useAxios(userType);\n  const fetchQuestions = async (): Promise<IQuestion[]> => {\n    const { data } = await client.get('/questions/');\n    console.log(data);\n    return data;\n    \n  };\n  \n  return {\n    questions,\n    fetchQuestions\n  }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","\n\nimport { ComputedRef, computed, ref, WritableComputedRef } from 'vue';\nimport { IPrescript, IProduct } from '@/types/Interfaces';\nimport useAxios from '@/types/Axios';\n\n//const prescript: WritableComputedRef<IPrescript | null> = computed({\n  // get: () => {\n  //   const data = window.localStorage.getItem('prescript');\n  //   if (data) {\n  //     return JSON.parse(data);\n  //   } else {\n  //     return null;\n  //   }\n  // },\n  // set: (data: IPrescript | null) => {\n  //   if (data == null) {\n  //     window.localStorage.removeItem('prescript');\n  //     return;\n  //   }\n  //   window.localStorage.setItem('prescript', JSON.stringify(data))\n  // }\n// });\n\n\nexport default function usePrescript (userType = 'customer') {\n  const {\n    client\n  } = useAxios(userType);\n  const myPrescript = ref<IPrescript | null>(null);\n  const prescripts = ref<IPrescript[]>([]);\n\n  const getPrescript = async () => {\n    const {data} = await client.get('/prescript/');\n    console.log(data)\n    return data;\n  }\n\n  const fixInterview = async () => {\n    const {data} = await client.get('/prescript/interview_fix')\n    return data;\n  }\n\n  const selectDoctor = async (doctorId: number) => {\n    const {data} = await client.patch('/prescript/select_doctor', { doctor: doctorId })\n    return data; \n  }\n\n  const fetchPrescripts = async (): Promise<IPrescript[]> => {\n    const {data} = await client.get('/prescripts/')\n    console.log(data)\n    return data;\n  }\n\n  const setPrescriptProducts = async (prescriptNo: string, products: IProduct[]) => {\n    const prescriptProducts = products.map((p: IProduct) => ({ product: p.id }));\n    console.log(prescriptProducts)\n    const {data} = await client.patch(`/prescribe/${prescriptNo}`, { products: prescriptProducts });\n    console.log(data)\n    return data;\n  }\n\n  const acceptPrescriptProducts = async () => {\n    const {data} = await client.patch('/prescript/exam_fix', {});\n    console.log(data);\n    return data;\n  };\n\n  const deletePrescriptProducts = async (prescriptNo: string) => {\n    const {data} = await client.delete(`/prescribe/${prescriptNo}`);\n    return data;\n\n  }\n\n\n  return {\n    // prescript,\n    myPrescript,\n    prescripts,\n    getPrescript,\n    fixInterview,\n    selectDoctor,\n    fetchPrescripts,\n    setPrescriptProducts,\n    acceptPrescriptProducts,\n    deletePrescriptProducts\n    \n  }\n}","<template>\n  <base-layout>\n    <template v-slot:title>\n      <div class=\"\">\n        <svg\n          @click=\"() => { router.push({ name: 'DiagnosticTop' }) }\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"absolute left-1 h-6 w-6 cursor-pointer\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\n        </svg>\n        <div>\n          問診\n        </div>\n      </div>\n    </template>\n    \n    <div class=\"flex-grow flex flex-col\">\n      <router-view\n        :myPrescript=\"myPrescript\"\n        :questions=\"questions\"\n        :currentQuestion=\"currentQuestion\"\n        :questionIndex=\"questionIndex\"\n        :existingAnswer=\"existingAnswer\"\n        :hasNext=\"hasNext\"\n        :hasPrevious=\"hasPrevious\"\n        v-if=\"dataReady\"\n        @next=\"onNext\"\n        @previous=\"onPrevious\"\n      ></router-view>\n    </div>\n  </base-layout>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, isProxy, onMounted, onUpdated, ref } from 'vue';\nimport useQuestionaire from '@/types/Questionaire';\nimport { IAnswer, IQuestion } from '@/types/Interfaces';\nimport usePrescript from '@/types/Prescript'\nimport { useRouter, useRoute } from 'vue-router';\nimport useAnswer from '@/types/Answer';\n\nexport default defineComponent({\n  components: {\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const {\n      myPrescript,\n      getPrescript,\n      fixInterview\n    } = usePrescript();\n    \n    const {\n      answers,\n      fetchAnswers,\n      createAnswer\n    } = useAnswer()\n\n    const {\n      questions,\n      fetchQuestions,\n    } = useQuestionaire();\n  \n    const currentQuestion = computed(() => {\n      const qId = route.params.id?.toString();\n      if (qId == null) return null;\n      return questions.value.find((q: IQuestion) => q.id == qId);\n    });\n    const questionIndex = computed(() => {\n      const qId = route.params.id?.toString();\n      return questions.value.findIndex((q: IQuestion) => q.id == qId);\n    })\n    const existingAnswer = computed(() => {\n      return answers.value.find((a: IAnswer) => a.question.id == currentQuestion.value?.id) || null;\n    });\n    \n    const hasPrevious = computed(() => {\n       return questionIndex.value > 0;  \n    });\n\n    const hasNext = computed(() => {\n      return questionIndex.value < questions.value.length -1\n    });\n    \n\n    \n    const dataReady = ref(false)\n    onMounted(async () => {\n      myPrescript.value = await getPrescript();\n      questions.value = await fetchQuestions();\n      answers.value = await fetchAnswers();\n      dataReady.value = true;\n    });\n    \n    onUpdated(() => {\n      if (myPrescript.value?.status != 1) {\n        router.push({ name: 'DiagnosticTop' })\n      }\n    })\n\n    const onNext = async (event: IAnswer) => {\n      const answerIndex = answers.value.findIndex((a: IAnswer) => a.question.id == event.question.id);\n      const questionIndex = questions.value.findIndex((q: IQuestion) => q.id == event.question.id)\n      \n      // update\n      const data = await createAnswer(event);\n      \n      if (answerIndex >= 0) {\n        answers.value.splice(answerIndex, 1, data);\n      }\n      if (questionIndex < questions.value.length - 1) {\n        router.push({ params: { id: questions.value[questionIndex + 1].id } })\n      } else {\n        try {\n          await fixInterview();\n          router.push({ name: 'DiagnosticQuestionaireDone' });\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n    const onPrevious = (event: IAnswer) => {\n      const answerIndex = answers.value.findIndex((a: IAnswer) => a.question.id == event.question.id);\n      // const questionIndex = questions.value.findIndex((q: IQuestion) => q.id == event.question.id)\n      if (answerIndex >= 0) {\n        answers.value.splice(answerIndex, 1, event);\n      }\n      if (questionIndex.value > 0) {\n        router.push({ params: { id: questions.value[questionIndex.value - 1].id } })\n      }\n    }\n   \n    return {\n      router,\n      myPrescript,\n      dataReady,\n      questions,\n      onNext,\n      onPrevious,\n      currentQuestion,\n      questionIndex,\n      existingAnswer,\n      hasNext,\n      hasPrevious,\n    };\n  }\n})\n</script>","\nimport { computed, defineComponent, isProxy, onMounted, onUpdated, ref } from 'vue';\nimport useQuestionaire from '@/types/Questionaire';\nimport { IAnswer, IQuestion } from '@/types/Interfaces';\nimport usePrescript from '@/types/Prescript'\nimport { useRouter, useRoute } from 'vue-router';\nimport useAnswer from '@/types/Answer';\n\nexport default defineComponent({\n  components: {\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const {\n      myPrescript,\n      getPrescript,\n      fixInterview\n    } = usePrescript();\n    \n    const {\n      answers,\n      fetchAnswers,\n      createAnswer\n    } = useAnswer()\n\n    const {\n      questions,\n      fetchQuestions,\n    } = useQuestionaire();\n  \n    const currentQuestion = computed(() => {\n      const qId = route.params.id?.toString();\n      if (qId == null) return null;\n      return questions.value.find((q: IQuestion) => q.id == qId);\n    });\n    const questionIndex = computed(() => {\n      const qId = route.params.id?.toString();\n      return questions.value.findIndex((q: IQuestion) => q.id == qId);\n    })\n    const existingAnswer = computed(() => {\n      return answers.value.find((a: IAnswer) => a.question.id == currentQuestion.value?.id) || null;\n    });\n    \n    const hasPrevious = computed(() => {\n       return questionIndex.value > 0;  \n    });\n\n    const hasNext = computed(() => {\n      return questionIndex.value < questions.value.length -1\n    });\n    \n\n    \n    const dataReady = ref(false)\n    onMounted(async () => {\n      myPrescript.value = await getPrescript();\n      questions.value = await fetchQuestions();\n      answers.value = await fetchAnswers();\n      dataReady.value = true;\n    });\n    \n    onUpdated(() => {\n      if (myPrescript.value?.status != 1) {\n        router.push({ name: 'DiagnosticTop' })\n      }\n    })\n\n    const onNext = async (event: IAnswer) => {\n      const answerIndex = answers.value.findIndex((a: IAnswer) => a.question.id == event.question.id);\n      const questionIndex = questions.value.findIndex((q: IQuestion) => q.id == event.question.id)\n      \n      // update\n      const data = await createAnswer(event);\n      \n      if (answerIndex >= 0) {\n        answers.value.splice(answerIndex, 1, data);\n      }\n      if (questionIndex < questions.value.length - 1) {\n        router.push({ params: { id: questions.value[questionIndex + 1].id } })\n      } else {\n        try {\n          await fixInterview();\n          router.push({ name: 'DiagnosticQuestionaireDone' });\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n    const onPrevious = (event: IAnswer) => {\n      const answerIndex = answers.value.findIndex((a: IAnswer) => a.question.id == event.question.id);\n      // const questionIndex = questions.value.findIndex((q: IQuestion) => q.id == event.question.id)\n      if (answerIndex >= 0) {\n        answers.value.splice(answerIndex, 1, event);\n      }\n      if (questionIndex.value > 0) {\n        router.push({ params: { id: questions.value[questionIndex.value - 1].id } })\n      }\n    }\n   \n    return {\n      router,\n      myPrescript,\n      dataReady,\n      questions,\n      onNext,\n      onPrevious,\n      currentQuestion,\n      questionIndex,\n      existingAnswer,\n      hasNext,\n      hasPrevious,\n    };\n  }\n})\n","import { render } from \"./Questionaires.vue?vue&type=template&id=bbe8b5ae\"\nimport script from \"./Questionaires.vue?vue&type=script&lang=ts\"\nexport * from \"./Questionaires.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}