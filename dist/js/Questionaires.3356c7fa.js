(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Questionaires"],{"2e9b":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("d81d"),r("96cf");var n=r("1da1"),a=r("7a23"),u=r("2e44"),i=Object(a["ref"])([]);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customer",t=Object(u["a"])(e),r=t.client,a=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null==t?"/answers/":"/answers/?uuid=".concat(t),e.next=3,r.get(n);case 3:return a=e.sent,u=a.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n,a,u,i,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t.customer.id){e.next=2;break}throw Error("customer has no id");case 2:return a=null===(n=t.answer_options)||void 0===n?void 0:n.map((function(e){return{option:e.option}})),u={question_id:t.question.id,options:a,descriptive_answer:t.descriptive_answer},null!=t.hair_image&&(i=t.hair_image,u.hair_image=i),e.next=7,r.post("/answer/",u);case 7:return c=e.sent,o=c.data,console.log(o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{answers:i,fetchAnswers:a,createAnswer:c}}},"7db0":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").find,u=r("44d2"),i=r("ae40"),c="find",o=!0,s=i(c);c in[]&&Array(1)[c]((function(){o=!1})),n({target:"Array",proto:!0,forced:o||!s},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),u(c)},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("23cb"),u=r("a691"),i=r("50c4"),c=r("7b0b"),o=r("65f0"),s=r("8418"),d=r("1dde"),l=r("ae40"),p=d("splice"),f=l("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,h=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!f},{splice:function(e,t){var r,n,d,l,p,f,w=c(this),g=i(w.length),x=a(e,g),O=arguments.length;if(0===O?r=n=0:1===O?(r=0,n=g-x):(r=O-2,n=h(v(u(t),0),g-x)),g+r-n>m)throw TypeError(b);for(d=o(w,n),l=0;l<n;l++)p=x+l,p in w&&s(d,l,w[p]);if(d.length=n,r<n){for(l=x;l<g-n;l++)p=l+n,f=l+r,p in w?w[f]=w[p]:delete w[f];for(l=g;l>g-n+r;l--)delete w[l-1]}else if(r>n)for(l=g-n;l>x;l--)p=l+n-1,f=l+r-1,p in w?w[f]=w[p]:delete w[f];for(l=0;l<r;l++)w[l+x]=arguments[l+2];return w.length=g-n+r,d}})},c740:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").findIndex,u=r("44d2"),i=r("ae40"),c="findIndex",o=!0,s=i(c);c in[]&&Array(1)[c]((function(){o=!1})),n({target:"Array",proto:!0,forced:o||!s},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),u(c)},d408:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("96cf");var n=r("1da1"),a=r("7a23"),u=r("2e44");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customer",t=Object(a["ref"])([]),r=Object(u["a"])(e),i=r.client,c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.get("/questions/");case 2:return t=e.sent,r=t.data,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{questions:t,fetchQuestions:c}}},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,u=r("1dde"),i=r("ae40"),c=u("map"),o=i("map");n({target:"Array",proto:!0,forced:!c||!o},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},da56:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d81d"),r("96cf");var n=r("1da1"),a=r("7a23"),u=r("2e44");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customer",t=Object(u["a"])(e),r=t.client,i=Object(a["ref"])(null),c=Object(a["ref"])([]),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.get("/prescript/");case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.get("/prescript/interview_fix");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.patch("/prescript/select_doctor",{doctor:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.get("/prescripts/");case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,n){var a,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.map((function(e){return{product:e.id}})),console.log(a),e.next=4,r.patch("/prescribe/".concat(t),{products:a});case 4:return u=e.sent,i=u.data,console.log(i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.patch("/prescript/exam_fix",{});case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.delete("/prescribe/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{myPrescript:i,prescripts:c,getPrescript:o,fixInterview:s,selectDoctor:d,fetchPrescripts:l,setPrescriptProducts:p,acceptPrescriptProducts:f,deletePrescriptProducts:v}}},eca0:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a={class:""},u=Object(n["createVNode"])("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1),i=Object(n["createVNode"])("div",null," 問診 ",-1),c={class:"flex-grow flex flex-col"};function o(e,t,r,o,s,d){var l=Object(n["resolveComponent"])("router-view"),p=Object(n["resolveComponent"])("base-layout");return Object(n["openBlock"])(),Object(n["createBlock"])(p,null,{title:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",a,[(Object(n["openBlock"])(),Object(n["createBlock"])("svg",{onClick:t[1]||(t[1]=function(){e.router.push({name:"DiagnosticTop"})}),xmlns:"http://www.w3.org/2000/svg",class:"absolute left-1 h-6 w-6 cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor"},[u])),i])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",c,[e.dataReady?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,myPrescript:e.myPrescript,questions:e.questions,currentQuestion:e.currentQuestion,questionIndex:e.questionIndex,existingAnswer:e.existingAnswer,hasNext:e.hasNext,hasPrevious:e.hasPrevious,onNext:e.onNext,onPrevious:e.onPrevious},null,8,["myPrescript","questions","currentQuestion","questionIndex","existingAnswer","hasNext","hasPrevious","onNext","onPrevious"])):Object(n["createCommentVNode"])("",!0)])]})),_:1})}r("7db0"),r("c740"),r("a434"),r("d3b7"),r("25f0"),r("96cf");var s=r("1da1"),d=r("d408"),l=r("da56"),p=r("6c02"),f=r("2e9b"),v=Object(n["defineComponent"])({components:{},setup:function(){var e=Object(p["d"])(),t=Object(p["c"])(),r=Object(l["a"])(),a=r.myPrescript,u=r.getPrescript,i=r.fixInterview,c=Object(f["a"])(),o=c.answers,v=c.fetchAnswers,h=c.createAnswer,m=Object(d["a"])(),b=m.questions,w=m.fetchQuestions,g=Object(n["computed"])((function(){var e,r=null===(e=t.params.id)||void 0===e?void 0:e.toString();return null==r?null:b.value.find((function(e){return e.id==r}))})),x=Object(n["computed"])((function(){var e,r=null===(e=t.params.id)||void 0===e?void 0:e.toString();return b.value.findIndex((function(e){return e.id==r}))})),O=Object(n["computed"])((function(){return o.value.find((function(e){var t;return e.question.id==(null===(t=g.value)||void 0===t?void 0:t.id)}))||null})),j=Object(n["computed"])((function(){return x.value>0})),y=Object(n["computed"])((function(){return x.value<b.value.length-1})),R=Object(n["ref"])(!1);Object(n["onMounted"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return a.value=e.sent,e.next=5,w();case 5:return b.value=e.sent,e.next=8,v();case 8:o.value=e.sent,R.value=!0;case 10:case"end":return e.stop()}}),e)})))),Object(n["onUpdated"])((function(){var t;1!=(null===(t=a.value)||void 0===t?void 0:t.status)&&e.push({name:"DiagnosticTop"})}));var k=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var n,a,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=o.value.findIndex((function(e){return e.question.id==r.question.id})),a=b.value.findIndex((function(e){return e.id==r.question.id})),t.next=4,h(r);case 4:if(u=t.sent,n>=0&&o.value.splice(n,1,u),!(a<b.value.length-1)){t.next=10;break}e.push({params:{id:b.value[a+1].id}}),t.next=19;break;case 10:return t.prev=10,t.next=13,i();case 13:e.push({name:"DiagnosticQuestionaireDone"}),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](10),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[10,16]])})));return function(e){return t.apply(this,arguments)}}(),P=function(t){var r=o.value.findIndex((function(e){return e.question.id==t.question.id}));r>=0&&o.value.splice(r,1,t),x.value>0&&e.push({params:{id:b.value[x.value-1].id}})};return{router:e,myPrescript:a,dataReady:R,questions:b,onNext:k,onPrevious:P,currentQuestion:g,questionIndex:x,existingAnswer:O,hasNext:y,hasPrevious:j}}});v.render=o;t["default"]=v}}]);
//# sourceMappingURL=Questionaires.3356c7fa.js.map