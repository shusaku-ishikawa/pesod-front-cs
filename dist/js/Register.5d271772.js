(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Register"],{"382a":function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));r("99af"),r("96cf");var n=r("1da1"),a=r("2e44"),o=r("2ef0"),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/uuid/");case 2:return t=e.sent,r=t.data,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/customer_pre_create/",t);case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/customer_activator/".concat(t));case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(o["cloneDeep"])(r),n.address="".concat(n.street).concat(n.building),delete n.street,delete n.building,e.next=6,a["a"].put(t,n);case 6:return u=e.sent,c=u.data,console.log(c),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),i=function(){var e=window.localStorage.getItem("token");if(null!=e)return JSON.parse(e)},d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/auth/jwt/create/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){window.localStorage.setItem("token",JSON.stringify(e))},f=function(){window.localStorage.removeItem("token")},m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/auth/users/me/");case 2:return t=e.sent,r=t.data,e.abrupt("return",r.id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/auth/users/".concat(t,"/"));case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/signup/",t);case 2:r=e.sent,r.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(){return{sendSignupEmail:c,activateAccount:l,registerProfile:s,createToken:d,storeToken:p,getToken:i,remoteToken:f,getUserId:m,getProfile:b,signup:h,getUUID:u}}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),o="["+a+"]",u=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),l=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(u,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5c69":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e){if("string"===typeof e)return e?null:"必須項目です。"},a=function(e,t){return function(r){return e.test(r)?null:t}}},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var o,u;return a&&"function"==typeof(o=t.constructor)&&o!==r&&n(u=o.prototype)&&u!==r.prototype&&a(e,u),e}},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),o=r("94ca"),u=r("6eeb"),c=r("5135"),l=r("c6b6"),s=r("7156"),i=r("c04e"),d=r("d039"),p=r("7c73"),f=r("241c").f,m=r("06cf").f,b=r("9bf2").f,h=r("58a8").trim,g="Number",v=a[g],O=v.prototype,j=l(p(O))==g,w=function(e){var t,r,n,a,o,u,c,l,s=i(e,!1);if("string"==typeof s&&s.length>2)if(s=h(s),t=s.charCodeAt(0),43===t||45===t){if(r=s.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+s}for(o=s.slice(2),u=o.length,c=0;c<u;c++)if(l=o.charCodeAt(c),l<48||l>a)return NaN;return parseInt(o,n)}return+s};if(o(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var y,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(j?d((function(){O.valueOf.call(r)})):l(r)!=g)?s(new v(w(t)),r,x):w(t)},V=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;V.length>k;k++)c(v,y=V[k])&&!c(x,y)&&b(x,y,m(v,y));x.prototype=O,O.constructor=x,u(a,g,x)}},cd38:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["h"])("div",{class:"relative"},[Object(n["h"])("div",{class:""}," 会員登録 ")],-1),o={key:0,class:"mb-5 text-red-600"},u={class:"grid grid-cols-12 gap-2"},c={class:"col-span-6 mb-10"},l={class:"col-span-6"},s={class:"col-span-6 mb-10"},i={class:"col-span-6"},d={class:"col-span-12 mb-10"},p={class:"col-span-12 mb-10"},f={class:"col-span-12 mb-10"},m={class:"col-span-12 mb-10"},b={class:"col-span-12 mb-10"},h={class:"col-span-12 mb-10"},g={class:"col-span-12 mb-10"},v={class:"col-span-12 mb-10"},O={class:"col-span-12 mb-10"},j=Object(n["h"])("div",{class:"col-span-12 mb-10"},[Object(n["h"])("button",{type:"submit",class:"primary w-64 mb-10"},[Object(n["h"])("div",{class:"inline-block"}," 次にすすむ "),Object(n["h"])("svg",{class:" w-6 h-6 float-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[Object(n["h"])("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])]),Object(n["h"])("div",{class:"cursor-pointer"}," お問い合わせはこちら ")],-1);function w(e,t,r,w,y,x){var V=Object(n["B"])("p-input"),k=Object(n["B"])("gender-selector"),R=Object(n["B"])("top-layout");return Object(n["t"])(),Object(n["d"])(R,null,{title:Object(n["H"])((function(){return[a]})),default:Object(n["H"])((function(){return[Object(n["h"])("form",{ref:"form",onSubmit:t[14]||(t[14]=Object(n["J"])((function(){return e.onSubmit&&e.onSubmit.apply(e,arguments)}),["prevent"])),disabled:e.loading},[""!=e.formError?(Object(n["t"])(),Object(n["d"])("div",o,Object(n["D"])(e.formError),1)):Object(n["e"])("",!0),Object(n["h"])("div",u,[Object(n["h"])("div",c,[Object(n["h"])(V,{label:"姓",type:"text",required:!0,autocomplete:"first_name",modelValue:e.formData.first_name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.first_name=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",l,[Object(n["h"])(V,{label:"名",type:"text",required:!0,autocomplete:"last_name",modelValue:e.formData.last_name,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.last_name=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",s,[Object(n["h"])(V,{label:"姓かな",type:"text",required:!0,autocomplete:"first_kana",modelValue:e.formData.first_kana,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.first_kana=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",i,[Object(n["h"])(V,{label:"名かな",type:"text",required:!0,autocomplete:"last_kana",modelValue:e.formData.last_kana,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.last_kana=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",d,[Object(n["h"])(V,{label:"郵便番号",type:"text",required:!0,autocomplete:"zip_code",modelValue:e.formData.zip_code,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.zip_code=t}),rules:[e.formRequired,e.getRegexpTester("^[0-9]{7}","7桁の数値を入力してください。")]},null,8,["modelValue","rules"])]),Object(n["h"])("div",p,[Object(n["h"])(V,{label:"都道府県",type:"text",required:!0,autocomplete:"prefecture",modelValue:e.formData.prefecture,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formData.prefecture=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",f,[Object(n["h"])(V,{label:"市区町村",type:"text",required:!0,autocomplete:"city",modelValue:e.formData.city,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.formData.city=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",m,[Object(n["h"])(V,{label:"番地",type:"text",required:!0,autocomplete:"street",modelValue:e.formData.street,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.formData.street=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",b,[Object(n["h"])(V,{label:"建物名（任意）",type:"text",autocomplete:"building",modelValue:e.formData.building,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.formData.building=t}),rules:[]},null,8,["modelValue"])]),Object(n["h"])("div",h,[Object(n["h"])(V,{label:"電話番号",type:"text",required:!0,autocomplete:"phone_number",modelValue:e.formData.phone_number,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.formData.phone_number=t}),rules:[e.formRequired,e.getRegexpTester("^[0-9]{10,15}","10桁以上15桁以下の数値を入力してください。")]},null,8,["modelValue","rules"])]),Object(n["h"])("div",g,[Object(n["h"])(V,{label:"生年月日",type:"text",required:!0,autocomplete:"birthday",modelValue:e.formData.birthday,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.formData.birthday=t}),rules:[e.formRequired,e.getRegexpTester("^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}","YYYY-MM-DDの形式で入力してください。")]},null,8,["modelValue","rules"])]),Object(n["h"])("div",v,[Object(n["h"])(V,{label:"パスワード",type:"password",required:!0,autocomplete:"password",modelValue:e.formData.password,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.formData.password=t}),rules:[e.formRequired]},null,8,["modelValue","rules"])]),Object(n["h"])("div",O,[Object(n["h"])(k,{modelValue:e.formData.gender,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.formData.gender=t})},null,8,["modelValue"])]),j])],40,["disabled"])]})),_:1})}r("d3b7"),r("25f0"),r("96cf");var y=r("1da1"),x=r("6c02"),V=r("5c69"),k={class:"w-full grid grid-cols-2"};function R(e,t,r,a,o,u){return Object(n["t"])(),Object(n["d"])("div",k,[Object(n["h"])("div",{onClick:t[1]||(t[1]=function(t){return e.changeTo(0)}),class:["cursor-pointer col-span-1 border py-2",{"bg-yellow-400":0===e.modelValue}]}," 男性 ",2),Object(n["h"])("div",{onClick:t[2]||(t[2]=function(t){return e.changeTo(1)}),class:[{"bg-yellow-400":1===e.modelValue},"cursor-pointer col-span-1 border py-2"]}," 女性 ",2)])}r("a9e3");var _=Object(n["i"])({components:{},props:{modelValue:{type:Number}},emits:["update:modelValue"],setup:function(e,t){var r=function(e){t.emit("update:modelValue",e)};return{changeTo:r}}});_.render=R;var D=_,I=r("382a"),q=Object(n["i"])({components:{GenderSelector:D},setup:function(){var e=Object(x["d"])(),t=Object(x["c"])(),r=t.params.token.toString(),a=Object(I["a"])(),o=a.activateAccount,u=a.registerProfile,c=Object(n["y"])({first_name:"",last_name:"",first_kana:"",last_kana:"",phone_number:"",gender:0,birthday:"",prefecture:"",city:"",street:"",building:"",zip_code:"",password:""}),l=Object(n["y"])(null),s=Object(n["y"])(""),i=function(e){s.value=e,window.setTimeout((function(){s.value=""}),5e3)},d=Object(n["y"])(!1),p=null;Object(n["q"])(Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(r);case 3:t=e.sent,p=t.registration_url,e.next=13;break;case 7:return e.prev=7,e.t0=e["catch"](0),n=e.t0.response,n?(n.status,a=n.data,console.error(a)):alert("error"),alert("failed to activate account"),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))));var f=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(r){var n,a,o,s,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=p){t.next=2;break}return t.abrupt("return");case 2:if(!l.value){t.next=7;break}if(n=l.value.checkValidity(),n){t.next=7;break}return alert("not vaida"),t.abrupt("return");case 7:return t.prev=7,t.next=10,u(p,c.value);case 10:a=t.sent,o={access:a.access,refresh:a.refresh},window.localStorage.setItem("token",JSON.stringify(o)),e.push({name:"DiagnosticTop"}),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](7),console.log(t.t0),t.t0.response?(s=t.t0.response,s.status,f=s.data,console.log(f),i(JSON.stringify(f))):i("ネットワークエラー");case 20:d.value=!1;case 21:case"end":return t.stop()}}),t,null,[[7,16]])})));return function(e){return t.apply(this,arguments)}}();return{form:l,formData:c,formError:s,formRequired:V["a"],getRegexpTester:V["b"],onSubmit:f}}});q.render=w;t["default"]=q}}]);
//# sourceMappingURL=Register.5d271772.js.map