{"version":3,"sources":["webpack:///./src/assets/img/taisaku_menu_04.png","webpack:///./src/assets/img/taisaku_menu_02_off.png","webpack:///./src/assets/img/taisaku_menu_02_on.png","webpack:///./src/assets/img/taisaku_menu_03_on.png","webpack:///(webpack)/buildin/module.js","webpack:///./src/assets/img/taisaku_menu_04_on.png","webpack:///./src/assets/img/taisaku_menu_01_off.png","webpack:///./src/assets/img/taisaku_menu_03_off.png","webpack:///./src/assets/img/taisaku_menu_01_on.png","webpack:///./src/views/ForClient/Diagnostic/Top.vue","webpack:///./src/views/ForClient/Diagnostic/Top.vue?bfe2","webpack:///./src/views/ForClient/Diagnostic/Top.vue?476d","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/types/Prescript.ts"],"names":["module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","class","fill-rule","d","clip-rule","src","alt","title","router","push","xmlns","viewBox","fill","myPrescript","prescriptStatus","doctor","id","components","setup","getPrescript","formatDate","val","format","value","status","render","__scopeId","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","data","console","log","fixInterview","selectDoctor","doctorId","patch","fetchPrescripts","results","setPrescriptProducts","prescriptNo","products","prescriptProducts","p","product","acceptPrescriptProducts","deletePrescriptProducts","delete","usePrescript","prescripts"],"mappings":"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","file":"js/DiagnosticTop.7efd1fcd.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/taisaku_menu_04.0fb77bdd.png\";","module.exports = __webpack_public_path__ + \"img/taisaku_menu_02_off.0d3d0bfb.png\";","module.exports = __webpack_public_path__ + \"img/taisaku_menu_02_on.25805dec.png\";","module.exports = __webpack_public_path__ + \"img/taisaku_menu_03_on.c66fa307.png\";","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = __webpack_public_path__ + \"img/taisaku_menu_04_on.beb373db.png\";","module.exports = __webpack_public_path__ + \"img/taisaku_menu_01_off.47884239.png\";","module.exports = __webpack_public_path__ + \"img/taisaku_menu_03_off.8d30875b.png\";","module.exports = __webpack_public_path__ + \"img/taisaku_menu_01_on.2aaf3d79.png\";","<template>\n  <base-layout>\n    <template v-slot:title>\n      <div class=\"\">\n        <svg\n          @click=\"() => { router.push({ name: 'Top' }) }\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"absolute h-6 w-6 cursor-pointer\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\n        </svg>\n        <div>\n          Pesod 育毛対策 お手続き\n        </div>\n      </div>\n    </template>\n    <div v-if=\"!myPrescript\">\n      loading...\n    </div>\n    \n    <div\n      v-else\n      class=\"flex-grow flex flex-col pt-5 px-2\">\n      <div>\n        <div class=\"mb-5 font-bold \">\n          診察・処方に必要なお手続きをお願いたします\n        </div>\n        <div class=\"text-sm text-left mb-3\">\n          Pesodでは、問診と医師の診察から、あなたに最適な<br>\n          育毛対策方針・処方を提案します。下記のお手続きを上<br>\n          から順にご対応ください。\n        </div>\n        <div class=\"text-xs bg-gray-100 py-2 text-left px-1\">\n          医師の判断により、医薬品の提供ができない場合がございます。<br>\n          あらかじめご了承ください。\n        </div>\n      </div>\n      <div>\n        <img\n          v-if=\"prescriptStatus <= 1\"\n          src=\"@/assets/img/taisaku_menu_01_on.png\"\n          alt=\"\"\n          class=\"block w-full cursor-pointer\"\n          @click=\"() => { router.push({ name: 'DiagnosticQuestionaireTop' }) }\"\n        >\n        <img\n          v-else\n          \n          src=\"@/assets/img/taisaku_menu_01_off.png\"\n          alt=\"\"\n          class=\"block w-full\"\n        >\n      </div>\n      <div>\n        <img\n          v-if=\"prescriptStatus <= 2\"\n          src=\"@/assets/img/taisaku_menu_02_on.png\"\n          alt=\"\"\n          class=\"block w-full cursor-pointer\"\n          @click=\"() => { router.push({ name: 'DiagnosticDoctorList' }) }\"\n        \n        >\n        <img\n          v-else\n          src=\"@/assets/img/taisaku_menu_02_off.png\"\n          alt=\"\"\n          class=\"block w-full\"\n        >\n      </div>\n      <div>\n        <img\n          v-if=\"prescriptStatus <= 3\"\n          src=\"@/assets/img/taisaku_menu_03_on.png\"\n          alt=\"\"\n          class=\"block w-full cursor-pointer\"\n          @click=\"() => { router.push({ name: 'DiagnosticDoctorDetailChat', params: { id: myPrescript.doctor.id } }) }\"\n        \n        >\n        <img\n          v-else\n          src=\"@/assets/img/taisaku_menu_03_off.png\"\n          alt=\"\"\n          class=\"block w-full\"\n        >\n      </div>\n      <div>\n        <img\n          v-if=\"prescriptStatus <= 4\"\n          src=\"@/assets/img/taisaku_menu_04_on.png\"\n          alt=\"\"\n          class=\"block w-full cursor-pointer\"\n          @click=\"() => { router.push({ name: 'StoreProductList' }) }\"\n        >\n        <img\n          v-else\n          src=\"@/assets/img/taisaku_menu_04.png\"\n          alt=\"\"\n          class=\"block w-full\"\n        >\n      </div>\n    </div>\n  </base-layout>\n</template>\n<style lang=\"scss\" scoped>\n \n</style>\n<script lang=\"ts\">\nimport { computed, defineComponent, onMounted, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nimport usePrescript from '@/types/Prescript';\nimport useDoctor from '@/types/Doctor';\nimport moment from 'moment';\nimport { getRegexpTester } from '@/mixins/FormValidator';\n\nexport default defineComponent({\n  components: {\n  },\n  setup() {\n    const {\n      myPrescript,\n      getPrescript\n    } = usePrescript();\n    \n    const formatDate = (val: string | null, format: string) => {\n      if (val == null) return '';\n      return moment(val).format(format);\n\n    }\n    \n    const router = useRouter();\n    \n    onMounted(async () => {\n      \n      myPrescript.value = await getPrescript();\n      \n      // router.push({ name: 'Top' });\n    });\n\n    const prescriptStatus = computed(() => {\n      //return myPrescript.value?.status;\n      return myPrescript.value?.status\n    })\n    return {\n      router,\n      prescriptStatus,\n      myPrescript,\n      formatDate\n    };\n  }\n})\n</script>","\nimport { computed, defineComponent, onMounted, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nimport usePrescript from '@/types/Prescript';\nimport useDoctor from '@/types/Doctor';\nimport moment from 'moment';\nimport { getRegexpTester } from '@/mixins/FormValidator';\n\nexport default defineComponent({\n  components: {\n  },\n  setup() {\n    const {\n      myPrescript,\n      getPrescript\n    } = usePrescript();\n    \n    const formatDate = (val: string | null, format: string) => {\n      if (val == null) return '';\n      return moment(val).format(format);\n\n    }\n    \n    const router = useRouter();\n    \n    onMounted(async () => {\n      \n      myPrescript.value = await getPrescript();\n      \n      // router.push({ name: 'Top' });\n    });\n\n    const prescriptStatus = computed(() => {\n      //return myPrescript.value?.status;\n      return myPrescript.value?.status\n    })\n    return {\n      router,\n      prescriptStatus,\n      myPrescript,\n      formatDate\n    };\n  }\n})\n","import { render } from \"./Top.vue?vue&type=template&id=b6b9f706&scoped=true\"\nimport script from \"./Top.vue?vue&type=script&lang=ts\"\nexport * from \"./Top.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-b6b9f706\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","\n\nimport { ComputedRef, computed, ref, WritableComputedRef } from 'vue';\nimport { IPrescript, IProduct } from '@/types/Interfaces';\nimport { client } from '@/types/Axios';\n\n//const prescript: WritableComputedRef<IPrescript | null> = computed({\n  // get: () => {\n  //   const data = window.localStorage.getItem('prescript');\n  //   if (data) {\n  //     return JSON.parse(data);\n  //   } else {\n  //     return null;\n  //   }\n  // },\n  // set: (data: IPrescript | null) => {\n  //   if (data == null) {\n  //     window.localStorage.removeItem('prescript');\n  //     return;\n  //   }\n  //   window.localStorage.setItem('prescript', JSON.stringify(data))\n  // }\n// });\n\nconst getPrescript = async () => {\n  const {data} = await client.get('/prescript/');\n  console.log(data)\n  return data;\n}\n\nconst fixInterview = async () => {\n  const {data} = await client.get('/prescript/interview_fix')\n  return data;\n}\n\nconst selectDoctor = async (doctorId: number) => {\n  const {data} = await client.patch('/prescript/select_doctor', { doctor: doctorId })\n  return data; \n}\n\nconst fetchPrescripts = async (): Promise<IPrescript[]> => {\n  const {data} = await client.get('/prescripts/')\n  console.log(data)\n  return data.results;\n}\n\nconst setPrescriptProducts = async (prescriptNo: string, products: IProduct[]) => {\n  const prescriptProducts = products.map((p: IProduct) => ({ product: p.id }));\n  console.log(prescriptProducts)\n  const {data} = await client.patch(`/prescribe/${prescriptNo}`, { products: prescriptProducts });\n  console.log(data)\n  return data;\n}\n\nconst acceptPrescriptProducts = async () => {\n  const {data} = await client.patch('/prescript/exam_fix', {});\n  console.log(data);\n  return data;\n};\n\nconst deletePrescriptProducts = async (prescriptNo: string) => {\n  const {data} = await client.delete(`/prescribe/${prescriptNo}`);\n  return data;\n\n}\n\n\n\nexport default function usePrescript () {\n  const myPrescript = ref<IPrescript | null>(null);\n  const prescripts = ref<IPrescript[]>([]);\n\n  return {\n    // prescript,\n    myPrescript,\n    prescripts,\n    getPrescript,\n    fixInterview,\n    selectDoctor,\n    fetchPrescripts,\n    setPrescriptProducts,\n    acceptPrescriptProducts,\n    deletePrescriptProducts\n    \n  }\n}"],"sourceRoot":""}